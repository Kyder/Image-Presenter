<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Presenter Control Center</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>Image Presenter Control Center</h1>
            <div class="version" id="version-display">Version: Loading...</div>
        </div>
    </header>
    
    <div class="container">
        <div class="main-content">
            <div class="tabs">
                <button class="tab active" data-tab="display">Display Settings</button>
                <button class="tab" data-tab="media">Media Management</button>
                <button class="tab" data-tab="addons">Addons</button>
                <button class="tab" data-tab="network">Network Settings</button>
                <button class="tab" data-tab="update">System Update</button>
            </div>
        
            <div class="tab-content active" id="display-tab">
                <!-- Content will be loaded here -->
            </div>
            
            <div class="tab-content" id="media-tab">
                <!-- Content will be loaded here -->
            </div>
            
            <div class="tab-content" id="addons-tab">
                <!-- Content will be loaded here -->
            </div>
            
            <div class="tab-content" id="network-tab">
                <!-- Content will be loaded here -->
            </div>
            
            <div class="tab-content" id="update-tab">
                <!-- Content will be loaded here -->
            </div>
        </div>
        
        <div class="device-panel">
            <h3>Devices</h3>
            <div class="device-panel-actions">
                <button id="select-all-devices" class="btn-success">Select All</button>
                <button id="select-none-devices" class="btn-danger">None</button>
                <button id="refresh-devices" class="btn-success">â†»</button>
            </div>
            <div id="device-list" class="device-list">
                <!-- Devices will be populated here -->
            </div>
            <div class="selected-count" id="selected-count">
                0 devices selected
            </div>
        </div>
    </div>
    
    <div class="message" id="message"></div>
    
    <div class="auth-modal" id="auth-modal">
        <div class="auth-content">
            <h2>Authentication Required</h2>
            <div class="form-group">
                <label for="auth-password">Password</label>
                <input type="password" id="auth-password" placeholder="Enter password">
            </div>
            <button id="auth-submit">Submit</button>
        </div>
    </div>
    
    <!-- Tauri API compatibility layer -->
    <script>
        // Check if running in Tauri
        if (window.__TAURI__) {
            const { invoke } = window.__TAURI__.tauri;
            
            // Create electronAPI for compatibility
            window.electronAPI = {
                getConfig: () => invoke('get_config'),
                getMediaFiles: () => Promise.resolve([]),
                getAddons: () => Promise.resolve({}),
                getAddonsDir: () => Promise.resolve(''),
                getAddonFrontendScript: () => Promise.resolve(''),
                getAddonFontData: () => Promise.resolve(null),
                onConfigUpdate: (callback) => {},
                onMediaUpdate: (callback) => {},
                onAddonsUpdate: (callback) => {}
            };
        }
    </script>
    
    <script src="main.js"></script>
</body>
</html>